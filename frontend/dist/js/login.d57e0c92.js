"use strict";(self["webpackChunkmomo_store"]=self["webpackChunkmomo_store"]||[]).push([[966],{5167:function(e,t,o){o.d(t,{A:function(){return d}});var s=o(641),r=o(33);function a(e,t,o,a,l,i){return(0,s.uX)(),(0,s.CE)("div",{class:(0,r.C4)(["alert fade show",{"alert-dismissible":e.dismissible}]),role:"alert"},[(0,s.Lk)("strong",null,(0,r.v_)(e.modelValue),1),e.dismissible?((0,s.uX)(),(0,s.CE)("button",{key:0,type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close",onClick:t[0]||(t[0]=(...t)=>e.handleClick&&e.handleClick(...t))})):(0,s.Q3)("",!0)],2)}var l=(0,s.pM)({props:{modelValue:{type:String,default:""},dismissible:{type:Boolean,default:!0}},emits:["update:modelValue"],methods:{handleClick(){this.$emit("update:modelValue","")}}}),i=o(6262);const n=(0,i.A)(l,[["render",a]]);var d=n},6044:function(e,t,o){o.r(t),o.d(t,{default:function(){return A}});var s=o(641),r=o(3751);const a=e=>((0,s.Qi)("data-v-ac0112f4"),e=e(),(0,s.jt)(),e),l={class:"container d-flex flex-column justify-content-between align-items-stretch h-100"},i={key:1,class:"card d-inline-block text-start"},n=a((()=>(0,s.Lk)("div",{class:"card-header"},[(0,s.Lk)("h3",{class:"card-title"},"Login")],-1))),d={class:"card-body"},u={class:"form-group mb-3"},c=a((()=>(0,s.Lk)("label",{for:"email"},"Email",-1))),m={class:"form-group mb-3"},p=a((()=>(0,s.Lk)("label",{for:"password"},"Password",-1))),h=a((()=>(0,s.Lk)("div",{class:"card-footer text-end"},[(0,s.Lk)("button",{type:"submit",class:"btn btn-primary"},"Login")],-1))),k=a((()=>(0,s.Lk)("div",null,null,-1)));function f(e,t,o,a,f,g){const b=(0,s.g2)("Alert"),v=(0,s.g2)("Spinner"),L=(0,s.g2)("Center");return(0,s.uX)(),(0,s.CE)("div",l,[(0,s.Lk)("div",null,[e.error?((0,s.uX)(),(0,s.Wv)(b,{key:0,modelValue:e.error,"onUpdate:modelValue":t[0]||(t[0]=t=>e.error=t),class:"alert-danger"},null,8,["modelValue"])):(0,s.Q3)("",!0)]),(0,s.bF)(L,null,{default:(0,s.k6)((()=>[e.loading?((0,s.uX)(),(0,s.Wv)(v,{key:0,size:"8rem",thickness:"1.25rem"})):((0,s.uX)(),(0,s.CE)("div",i,[(0,s.Lk)("form",{onSubmit:t[3]||(t[3]=(0,r.D$)(((...t)=>e.login&&e.login(...t)),["prevent"]))},[n,(0,s.Lk)("div",d,[(0,s.Lk)("div",u,[c,(0,s.bo)((0,s.Lk)("input",{type:"email",class:"form-control",id:"email","onUpdate:modelValue":t[1]||(t[1]=t=>e.email=t)},null,512),[[r.Jo,e.email]])]),(0,s.Lk)("div",m,[p,(0,s.bo)((0,s.Lk)("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":t[2]||(t[2]=t=>e.password=t)},null,512),[[r.Jo,e.password]])])]),h],32)]))])),_:1}),k])}var g=o(4335),b=o(5834),v=o(2820),L=o(5167),w=(0,s.pM)({name:"Login",components:{Spinner:b.A,Center:v.A,Alert:L.A},data(){return{email:"",password:"",loading:!1,error:"",goto:""}},created(){if(this.$store.state.auth.isLoggedIn)return void this.$router.push("/profile");const e=new URL(window.location.href);this.goto=e.searchParams.get("goto")??""},methods:{login(){this.loading=!0,this.$store.dispatch("login",{email:this.email,password:this.password}).then((()=>{this.$router.push(this.goto||"/")})).catch((e=>{g.A.isAxiosError(e)&&e.response?this.error=e.response.data.detail:this.error="Connection error",this.loading=!1}))}}}),C=o(6262);const y=(0,C.A)(w,[["render",f],["__scopeId","data-v-ac0112f4"]]);var A=y}}]);
//# sourceMappingURL=login.d57e0c92.js.map